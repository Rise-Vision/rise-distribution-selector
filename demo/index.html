<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>rise-distribution-selector Demo</title>
    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
    <link rel="import" href="../rise-distribution-selector.html">
    <link href="../../rv-common-style/dist/css/rise.min.css" rel="stylesheet" type="text/css">

    <script>
      var clientId = '1039315471777-oqrb8m2qfkrfp2hv2f9dta5jf72ob72p.apps.googleusercontent.com';
      var scopes = 'https://www.googleapis.com/auth/plus.me';

      function checkAuth() {
        gapi.auth.authorize({client_id: clientId, scope: scopes, immediate: true}, handleAuthResult);
      }

      function handleAuthResult(authResult) {
        var authorizeButton = document.getElementById('authorize-button');
        if (authResult && !authResult.error) {
          authorizeButton.style.visibility = 'hidden';
          gapi.client.load('oauth2', 'v2', makeOAuth2Request);
        } else {
          authorizeButton.style.visibility = '';
          authorizeButton.onclick = handleAuthClick;
        }
      }

      function handleAuthClick(event) {
        gapi.auth.authorize({client_id: clientId, scope: scopes, immediate: false}, handleAuthResult);
        return false;
      }

      function makeOAuth2Request() {
        console.log('make request to oauth2');
        var request = gapi.client.oauth2.userinfo.get();

        request.execute(function (resp) {
          if (!resp.code) {
            console.log(resp);
          }
          else {
            console.log(resp);
          }
        });
      }
    </script>
  </head>
  <body>

    <p>An example of <code>&lt;rise-distribution-selector&gt;</code>:</p>

    <button id="authorize-button" onclick="handleAuthClick()">Sign In</button>
    <div class="container">
      <div class="form-group">
        <label class="control-label">Distribution</label>
        <rise-distribution-selector company-id="f114ad26-949d-44b4-87e9-8528afc76ce4" distribution='[]' distribute-to-all='true'>
        </rise-distribution-selector>
      </div>
    </div>


  </body>
</html>
